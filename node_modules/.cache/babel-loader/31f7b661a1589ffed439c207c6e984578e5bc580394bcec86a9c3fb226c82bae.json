{"ast":null,"code":"import _regeneratorRuntime from\"/home/vpnwan/Pictures/todo/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/vpnwan/Pictures/todo/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/home/vpnwan/Pictures/todo/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import\"./todo.css\";import React from'react';import Card from\"./Card\";import{useState}from\"react\";import axios from'axios';import{useEffect}from'react';import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Todo=function Todo(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),todo=_useState2[0],setTodo=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),response=_useState4[0],setResponse=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),error=_useState6[0],setError=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),todoss=_useState8[0],setTodoss=_useState8[1];var _useState9=useState(null),_useState10=_slicedToArray(_useState9,2),errorr=_useState10[0],setErrorr=_useState10[1];var fetchData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var _yield$axios$get,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get(\"https://shine-free-paw.glitch.me/posts\");case 3:_yield$axios$get=_context.sent;data=_yield$axios$get.data;setTodoss(data);_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);setError(_context.t0);case 11:case\"end\":return _context.stop();}},_callee,null,[[0,8]]);}));return function fetchData(){return _ref.apply(this,arguments);};}();useEffect(function(){axios.get(\"https://shine-free-paw.glitch.me/posts\").then(function(response){setTodoss(response.data);}).catch(function(err){setErrorr(err);});},[todo]);if(error){return/*#__PURE__*/_jsxs(\"p\",{children:[\"Error: \",error.message]});}var handleSubmit=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(event){var res,json;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:event.preventDefault();_context2.prev=1;_context2.next=4;return fetch(\"https://shine-free-paw.glitch.me/posts\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({todo:todo})});case 4:res=_context2.sent;_context2.next=7;return res.json();case 7:json=_context2.sent;setResponse(json);return _context2.abrupt(\"return\",alert(\"Success!\"));case 12:_context2.prev=12;_context2.t0=_context2[\"catch\"](1);setError(_context2.t0);case 15:case\"end\":return _context2.stop();}},_callee2,null,[[1,12]]);}));return function handleSubmit(_x){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:\"ko\",children:[/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{id:\"myDIV\",class:\"header\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Todo-List\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:todo,onChange:function onChange(event){return setTodo(event.target.value);},id:\"myInput\",placeholder:\"Add a New Task\"}),/*#__PURE__*/_jsx(\"button\",{className:\"addBtn\",type:\"submit\",children:\"+\"})]}),/*#__PURE__*/_jsx(\"ul\",{id:\"myUL\",children:/*#__PURE__*/_jsx(_Fragment,{children:todoss.map(function(todo,isHidden){return/*#__PURE__*/_jsxs(\"li\",{class:\"\",children:[todo.todo,\" \"]},todo.id);})})})]}),/*#__PURE__*/_jsx(\"button\",{id:\"ui\",onClick:fetchData,children:\"Refresh\"})]});};export default Todo;","map":{"version":3,"names":["React","Card","useState","axios","useEffect","Todo","todo","setTodo","response","setResponse","error","setError","todoss","setTodoss","errorr","setErrorr","fetchData","get","data","then","catch","err","message","handleSubmit","event","preventDefault","fetch","method","headers","body","JSON","stringify","res","json","alert","target","value","map","isHidden","id"],"sources":["/home/vpnwan/Pictures/todo/src/Todo.jsx"],"sourcesContent":["import \"./todo.css\"\n\n\nimport React from 'react';\nimport Card from \"./Card\";\nimport { useState } from \"react\";\nimport axios from 'axios';\nimport  {  useEffect } from 'react';\n\nconst Todo = () => {\n  \n  const [todo, setTodo] = useState(\"\");\n  const [response, setResponse] = useState(null);\n  const [error, setError] = useState(null);\n\n  const [todoss, setTodoss] = useState([]);\n  const [errorr, setErrorr] = useState(null);\n\n\n  const fetchData = async () => {\n    try {\n      const { data } = await axios.get(\"https://shine-free-paw.glitch.me/posts\");\n      setTodoss(data);\n    } catch (err) {\n      setError(err);\n    }\n  };\n  useEffect(() => {\n    axios\n      .get(\"https://shine-free-paw.glitch.me/posts\")\n      .then((response) => {\n        setTodoss(response.data);\n        \n        \n      })\n      \n      .catch((err) => {\n       \n        setErrorr(err);\n      });\n  }, [todo]);\n  \n\n  if (error) {\n    return <p>Error: {error.message}</p>;\n  }\n\n  const handleSubmit = async (event) => {\n    event.preventDefault();\n    try {\n      const res = await fetch(\"https://shine-free-paw.glitch.me/posts\" , {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({ todo }),\n      });\n      const json = await res.json();\n      setResponse(json);\n      return alert(\"Success!\");\n    } catch (err) {\n      setError(err);\n    }\n  };\n    return (\n        <div className=\"ko\">\n            <form onSubmit={handleSubmit}>\n            <div id=\"myDIV\" class=\"header\">\n  <h2>Todo-List</h2>\n \n  <input type=\"text\" value={todo} onChange={(event) => setTodo(event.target.value)} id=\"myInput\" placeholder=\"Add a New Task\" />\n  <button className=\"addBtn\" type=\"submit\">+</button>\n     \n</div>\n\n<ul id=\"myUL\">\n  \n  <>\n{todoss.map((todo, isHidden) => (\n  \n  <li  key={todo.id}class=\"\">{todo.todo} </li> \n\n  \n  ))}\n  \n\n  </>\n</ul> \n</form>\n<button id=\"ui\" onClick={fetchData}>Refresh</button>\n\n        </div>\n    );\n}\n\nexport default Todo;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}